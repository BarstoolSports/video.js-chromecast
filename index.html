<!doctype html>
<html>
<head data-cast-api-enabled="true">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>videojs-chromecast Demo</title>
    <link href="/node_modules/video.js/dist/video-js.css" rel="stylesheet">
    <link href="/dist/videojs-chromecast.css" rel="stylesheet">
</head>
<body>
<div style="position: relative; display: block;">
  <div style="padding-top: 56.25%;">
    <video data-video-id="5679460295001" 
           data-account="4289043293001" 
           data-player="S1dJtqS5Z" 
           data-embed="default" 
           data-application-id 
           class="video-js vjs-default-skin" 
           controls 
           style="position: absolute; top: 0px; right: 0px; bottom: 0px; left: 0px; width: 100%; height: 100%;"></video>
  </div>
</div>
<!-- chromecast sdk -->
<script src="//players.brightcove.net/4289043293001/S1dJtqS5Z_default/index.min.js"></script>
<script src="http://www.gstatic.com/cv/js/sender/v1/cast_sender.js"></script>
<script src="/node_modules/video.js/dist/video.js"></script>
<script src="/dist/videojs-chromecast.js"></script>
<script>

    function waitForElementToDisplay(selector, time) {
        if(document.querySelector(selector)!=null) {
            videojs(document.querySelector('video'), {
                plugins: {
                    chromecast: {
                      appId: 'E2DDCEB5'
                    }
                }
            });
            console.log("The element is displayed, you can put your code instead of this alert.")
            return;
        }
        else {
            setTimeout(function() {
                waitForElementToDisplay(selector, time);
            }, time);
        }
    }
    waitForElementToDisplay('#vjs_video_3', 1000);

</script>
</body>
</html>
